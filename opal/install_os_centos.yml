- name: Deployment for Opal (native RPM deployment)
  hosts: all
  vars:
    opal:
      version: 2.16.0
      administrator:
        username: administrator
        password: xxxxx
    rserver:
      version: 1.4.0
    ci: false
    httpd:
      ssl: 
        default:
          enabled: false
        letsencrypt:
          enabled: true
    firewall:
      enabled: true
      ranges: 
        # university range
        - 80.115.26.160/32
        - 145.117.0.0/16
        # cental analysis server - please ask molgenis-operations@umcg.nl for details
        - 195.169.23.119/32
    mysql:
      enabled: false
      root_db_password: "xxxxx" 
      user:
        name: opal
        password: "xxxxx"
    mongodb:
      enabled: true
  roles:
   - centos_init
   - centos_mysql
   - centos_mongodb
   - centos_opal
   - firewall
   - httpd
   - httpd_ssl
   - httpd_ssl_letsencrypt